<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A Surprise For You!</title>

    <!-- Google Fonts Links -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Short+Stack&family=Homemade+Apple&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Zeyada&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;700&display=swap" rel="stylesheet">

    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        /* --- General Body & Root Styles --- */
        :root {
            --pink: #ffcad4;
            --dark-pink: #f4acb7;
            --mauve: #d8b4a0;
            --text-dark: #6a0c1a;
            --text-light: #8d5d5d;
            --shadow: rgba(244, 172, 183, 0.5);
            --bg-color: #fde2e4;
        }

        * {
            padding: 0;
            margin: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            background-color: #fde2e4;
            font-family: 'Short Stack', cursive;
        }

        /* --- Part 1: Love Letter Styles --- */
        #part1 {
            width: 100%;
            min-height: 100vh;
            background: linear-gradient(rgba(255, 204, 218, 0.9), rgba(255, 255, 255, 0.58)), url(https://placehold.co/1920x1080/ffcad4/ffcad4?text=Background);
            background-repeat: no-repeat;
            background-size: cover;
            background-position: center;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 2rem;
        }

        #part1 .box {
            position: relative;
            width: 600px;
            height: 350px;
            background: rgba(253, 233, 234, 0.9);
            border-radius: 5px;
            box-shadow: 3px 3px 3px rgba(0, 0, 0, 0.3);
            display: flex;
            justify-content: center;
            align-items: center;
        }

        #part1 .gifs_left { position: absolute; width: 92px; bottom: -25px; left: -16px; }
        #part1 .gifs_right { position: absolute; width: 92px; top: -54px; right: -33px; }
        #part1 .gifs_left img, #part1 .gifs_right img { width: 100%; }
        #part1 .mail { width: 550px; height: 300px; border: 2px dashed rgb(167, 32, 71); border-radius: 15px; position: relative; }
        #part1 .heart { position: absolute; width: 100%; height: 100%; }
        #part1 .heart img {
            position: absolute;
            width: 40px;
            height: 40px;
            content: url('data:image/svg+xml;charset=UTF-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="red"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>');
        }
        #part1 .heart img:nth-child(1) { transform: rotate(-25deg) translate(10px, 10px); }
        #part1 .heart img:nth-child(2) { width: 25px; height: 25px; transform: rotate(-5deg) translate(3px, 50px); }
        #part1 .heart img:nth-child(3) { width: 25px; height: 25px; transform: rotate(5deg) translate(70px, 5px); }
        #part1 .heart img:nth-child(4) { right: 60px; bottom: 60px; transform: rotate(25deg); }
        #part1 .heart img:nth-child(5) { width: 25px; height: 25px; right: 110px; bottom: 80px; transform: rotate(5deg); }
        #part1 .content { position: relative; width: 100%; height: 100%; }
        #part1 .content .title { display: flex; justify-content: center; align-items: center; width: 100%; height: 50px; overflow: hidden; }
        #part1 .content .title h2 { font-family: 'Dancing Script', cursive; font-size: 35px; color: rgb(181, 12, 17); opacity: 1; transform: translateY(0px); transition: 2s; }
        #part1 .content p { padding: 0px 45px; font-size: 20px; font-family: 'Dancing Script', cursive; opacity: 1; transition: all 1s; }
        @keyframes text1 { 0% { opacity: 0; } 100% { opacity: 1; } }
        @media screen and (max-width: 658px) {
            #part1 .box { width: 100%; max-width: 320px; height: auto; padding: 24px; }
            #part1 .mail { height: auto; padding-bottom: 20px; }
            #part1 .content .title h2 { font-size: 2rem; }
            #part1 .content p { padding: 15px 20px; font-size: 1rem; }
            #part1 .gifs_left { bottom: -50px; left: -20px; }
            #part1 .gifs_right { top: -40px; right: -20px; }
        }

        /* --- Part 2: Draggable Notes Styles --- */
        #part2 { 
            min-height: 100vh; 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            background-image: url("https://www.psdgraphics.com/wp-content/uploads/2022/01/white-math-paper-texture.jpg"); 
            background-position: center center; 
            position: relative; 
            overflow: hidden; 
        }
        #part2 .paper { 
            background-image: url("https://i0.wp.com/textures.world/wp-content/uploads/2018/10/2-Millimeter-Paper-Background-copy.jpg?ssl=1"); 
            background-size: 500px; 
            padding: 20px 40px; 
            box-shadow: 1px 15px 20px 0px rgba(0, 0, 0, 0.5); 
            position: absolute; 
            width: 250px; 
            cursor: grab;
            /* Initial position will be set by JavaScript */
        }
        #part2 .paper.heart { 
            width: 200px; 
            height: 200px; 
            padding: 0; 
            border-radius: 50%;
        }
        #part2 .paper.image { padding: 10px; }
        #part2 .paper-text { font-family: 'Zeyada'; font-size: 35px; color: rgb(0, 0, 100); opacity: 0.75; user-select: none; text-align: center; }
        #part2 .paper.image .paper-text { font-size: 24px; }
        #part2 img { max-height: 150px; width: 100%; user-select: none; }
        #part2 .paper.heart::after { content: ""; background-image: url('https://cdn.pixabay.com/photo/2016/03/31/19/25/cartoon-1294994__340.png'); width: 100%; height: 100%; position: absolute; top: 0; left: 0; background-size: 150px; background-position: center center; background-repeat: no-repeat; opacity: 0.6; }
        

        /* --- Part 3: Music Player Styles --- */
        #part3 {
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 2rem;
            background-color: var(--bg-color);
        }
        
        .part3-container {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 2rem;
            flex-wrap: wrap;
            max-width: 800px;
            margin: 0 auto;
        }

        .music-player-image {
            width: 300px;
            flex-shrink: 0;
        }

        .music-player-image img {
            width: 100%;
            border-radius: 25px;
            box-shadow: 0 15px 30px var(--shadow);
        }

        .music-player {
            width: 100%;
            max-width: 380px;
            background-color: white;
            border-radius: 25px;
            box-shadow: 0 15px 30px var(--shadow);
            padding: 30px;
            text-align: center;
            flex-shrink: 0;
        }

        .album-art { width: 80%; aspect-ratio: 1 / 1; border-radius: 20px; overflow: hidden; margin: 0 auto 25px; box-shadow: 0 10px 20px var(--shadow); }
        .album-art img { width: 100%; height: 100%; object-fit: cover; }
        .song-title { font-family: 'Pacifico', cursive; font-size: 28px; color: var(--text-dark); margin-bottom: 5px; }
        .song-artist { font-size: 16px; color: var(--text-light); margin-bottom: 20px; font-family: 'Nunito', sans-serif; }
        .progress-container { width: 100%; height: 8px; background-color: #f0f0f0; border-radius: 5px; cursor: pointer; margin-bottom: 10px; }
        .progress-bar { width: 0%; height: 100%; background: linear-gradient(90deg, var(--pink), var(--dark-pink)); border-radius: 5px; }
        .timestamps { display: flex; justify-content: space-between; font-size: 12px; color: var(--text-light); margin-bottom: 20px; font-family: 'Nunito', sans-serif;}
        .controls { display: flex; justify-content: center; align-items: center; gap: 20px; }
        .control-btn { background: none; border: none; cursor: pointer; color: var(--text-light); font-size: 20px; transition: color 0.3s ease, transform 0.2s ease; }
        .control-btn:hover { color: var(--text-dark); transform: scale(1.1); }
        .play-pause-btn { width: 70px; height: 70px; background: linear-gradient(145deg, var(--dark-pink), var(--pink)); border-radius: 50%; color: white; font-size: 28px; display: flex; justify-content: center; align-items: center; box-shadow: 0 5px 15px var(--shadow); }
        .play-pause-btn:hover { transform: scale(1.05); filter: brightness(1.1); }
        
        @media (max-width: 820px) {
            .part3-container {
                flex-wrap: nowrap;
                width: 100%;
                padding: 0 1rem;
            }
            .music-player-image {
                width: 30%;
                min-width: 150px;
            }
            .music-player {
                width: 70%;
            }
        }

        @media (max-width: 540px) {
            .part3-container {
                flex-direction: column;
                gap: 1.5rem;
            }
            .music-player-image {
                width: 60%;
                max-width: 200px;
            }
            .music-player {
                width: 100%;
                max-width: 380px;
            }
        }

        /* --- Loader Styles --- */
        .loader-wrapper { position: fixed; width: 100%; height: 100%; background: #fff; top: 0; left: 0; z-index: 10000; }
        .loader { position: absolute; top: 50%; left: 50%; width: 200px; height: 200px; border-radius: 50%; perspective: 800px; display: flex; justify-content: center; align-items: center; transform: translate(-50%, -50%); }
        .box-heart { width: 100%; height: 100%; display: flex; justify-content: center; align-items: center; animation: loaderElectron 0.5s alternate infinite; z-index: -1; }
        .heartLoader { content: url('data:image/svg+xml;charset=UTF-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="red"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>'); width: 120px; height: 120px; filter: drop-shadow(0 0 10px red) drop-shadow(0 0 40px red) drop-shadow(0 0 60px red); }
        @keyframes loaderElectron { 0% { transform: scale(0.9); } 100% { transform: scale(1.1); } }
        .inner { position: absolute; box-sizing: border-box; width: 100%; height: 100%; border-radius: 50%; }
        .inner.one { left: 0%; top: 0%; animation: rotate-one 1s linear infinite; border-bottom: 4px solid red; border-right: 4px solid red; filter: drop-shadow(0 0 5px red); }
        .inner.two { right: 0%; top: 0%; animation: rotate-two 1s linear infinite; border-right: 4px solid red; border-top: 4px solid red; filter: drop-shadow(0 0 5px red); }
        .inner.three { right: 0%; bottom: 0%; animation: rotate-three 1s linear infinite; border-top: 4px solid red; border-left: 4px solid red; filter: drop-shadow(0 0 10px red); }
        .inner::before { position: absolute; content: url('data:image/svg+xml;charset=UTF-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="red"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>'); width: 30px; height: 30px; }
        .inner.one::before { top: 40%; transform: translate(-50%, 30%); }
        .inner.two::before { right: 50%; bottom: 0; transform: translate(30%, 50%); }
        .inner.three::before { right: 2px; top: 50%; transform: translate(50%, -120%); }
        @keyframes rotate-one { 0% { transform: rotateX(35deg) rotateY(-45deg) rotateZ(0deg); } 100% { transform: rotateX(35deg) rotateY(-45deg) rotateZ(360deg); } }
        @keyframes rotate-two { 0% { transform: rotateX(50deg) rotateY(10deg) rotateZ(0deg); } 100% { transform: rotateX(50deg) rotateY(10deg) rotateZ(360deg); } }
        @keyframes rotate-three { 0% { transform: rotateX(35deg) rotateY(55deg) rotateZ(0deg); } 100% { transform: rotateX(35deg) rotateY(55deg) rotateZ(360deg); } }

        /* --- Footer Styles --- */
        #copy { position: fixed; bottom: 12px; left: 50%; transform: translateX(-50%); font-size: 1rem; z-index: 100; }
        #copy a { text-decoration: none; color: #191919d7; }
        #copy p { color: var(--text-dark); text-align: center; font-weight: 700; cursor: pointer; }
    </style>
</head>

<body>
    <!-- --- Global Elements --- -->
    <div class="loader-wrapper">
        <div class="loader">
            <div class="inner one"></div>
            <div class="inner two"></div>
            <div class="inner three"></div>
            <div class="box-heart"><div class="heartLoader"></div></div>
        </div>
    </div>

    <!-- --- Section 1: Love Letter --- -->
    <section id="part1">
        <div class="box">
            <div class="mail">
                <div class="heart">
                    <img alt="heart"><img alt="heart"><img alt="heart"><img alt="heart"><img alt="heart">
                </div>
                <div class="content">
                    <div class="title"><h2>To You!</h2></div>
                    <p>
                        You may not realize it, but you live in every heartbeat of mine.
                        When you smile, it feels like the whole world is filled with light...
                        My love is like unspoken words, incomplete without you. This friendship is beautiful, but my
                        heart whispers every moment I wish I could make you feel the depth of my love!❤️
                    </p>
                    <div class="gifs_left"><img src="https://media.giphy.com/media/YKUvclrGYmDKXwtphf/giphy.gif" alt="animated heart"></div>
                    <div class="gifs_right"><img src="https://media.giphy.com/media/YKUvclrGYmDKXwtphf/giphy.gif" alt="animated heart"></div>
                </div>
            </div>
        </div>
    </section>

    <!-- --- Section 2: Draggable Notes --- -->
    <section id="part2">
        <div class="paper heart"></div>
        <div class="paper image"><p class="paper-text"> and I fallen in</p><p class="paper-text">Love with You 😍 </p><img src="https://iili.io/HSzXpzg.jpg" alt="cute illustration"/></div>
        <div class="paper image"><p class="paper-text">How can you be</p><p class="paper-text"> so cute ❤️</p><img src="https://iili.io/HSzXyXa.jpg" alt="cute illustration"/></div>
        <div class="paper image"><p class="paper-text">You are...</p><img src="https://iili.io/HSzXbmF.jpg" alt="cute illustration"/></div>
        <div class="paper red"><p class="paper-text"> and My Favorite</p><p class="paper-text">Person 😍</p></div>
        <div class="paper"><p class="paper-text">You are Cute &</p><p class="paper-text">Amazing <span style="color: red !important;">❤️</span></p></div>
        <div class="paper"><p class="paper-text">Drag the papers to move!</p></div>
    </section>

    <!-- --- Section 3: Music Player --- -->
    <section id="part3">
        <div class="part3-container">
            <div class="music-player-image">
                <img src="https://media0.giphy.com/media/T86i6yDyOYz7J6dPhf/giphy.gif" alt="Cute animated illustration">
            </div>
            <div class="music-player">
                <div class="album-art">
                    <img src="https://placehold.co/300x300/ffcad4/6a0c1a?text=Hello!" alt="Album Art" id="albumArt">
                </div>
                <h2 class="song-title" id="songTitle">Choose a Song</h2>
                <p class="song-artist" id="songArtist">And press play!</p>
                <div class="progress-container" id="progressContainer">
                    <div class="progress-bar" id="progressBar"></div>
                </div>
                <div class="timestamps">
                    <span id="currentTime">0:00</span>
                    <span id="totalDuration">0:00</span>
                </div>
                <div class="controls">
                    <button class="control-btn" id="prevBtn"><i class="fas fa-backward"></i></button>
                    <button class="control-btn play-pause-btn" id="playPauseBtn"><i class="fas fa-play"></i></button>
                    <button class="control-btn" id="nextBtn"><i class="fas fa-forward"></i></button>
                </div>
                <audio id="audio"></audio>
            </div>
        </div>
    </section>


    <!-- --- Global Footer --- -->
    <div id="copy">
        <p>Design by ~ <a href="https://www.instagram.com/w_kunal/" target="_blank" rel="noopener noreferrer">@w_kunal</a> & Saravanan</p>
    </div>

    <!-- --- Scripts --- -->
    <script src="https://code.jquery.com/jquery-3.6.3.min.js"></script>
    <script>
        // --- Page Loader Script ---
        $(window).on('load', function (event) {
            $('.loader-wrapper').delay(2000).fadeOut('slow');
        });

        document.addEventListener('DOMContentLoaded', () => {
            // --- Draggable Paper Script (Fully Responsive) ---
            const papers = document.querySelectorAll('#part2 .paper');
            const part2 = document.querySelector('#part2');
            let highestZ = 1;

            // This function positions the papers in a stack at the center.
            const stackPapers = () => {
                const containerWidth = part2.clientWidth;
                const containerHeight = part2.clientHeight;

                papers.forEach(paper => {
                    const paperWidth = paper.offsetWidth;
                    const paperHeight = paper.offsetHeight;

                    // Center the paper
                    const centerX = (containerWidth - paperWidth) / 2;
                    const centerY = (containerHeight - paperHeight) / 2;

                    paper.style.left = `${centerX}px`;
                    paper.style.top = `${centerY}px`;
                    paper.style.transform = `rotate(${Math.random() * 40 - 20}deg)`;
                });
            };
            
            // Run the positioning function once the page is loaded
            stackPapers();
            // Reposition on window resize to handle orientation changes on mobile
            window.addEventListener('resize', stackPapers);


            papers.forEach((paper) => {
                let isDragging = false;
                let offsetX, offsetY;

                const startDrag = (e) => {
                    isDragging = true;
                    paper.style.zIndex = highestZ++;
                    paper.style.cursor = 'grabbing';
                    
                    const clientX = e.type === 'touchstart' ? e.touches[0].clientX : e.clientX;
                    const clientY = e.type === 'touchstart' ? e.touches[0].clientY : e.clientY;
                    
                    const rect = paper.getBoundingClientRect();
                    const parentRect = part2.getBoundingClientRect();
                    
                    offsetX = clientX - (rect.left - parentRect.left);
                    offsetY = clientY - (rect.top - parentRect.top);
                    
                    document.addEventListener('mousemove', drag);
                    document.addEventListener('touchmove', drag, { passive: false });
                    document.addEventListener('mouseup', endDrag);
                    document.addEventListener('touchend', endDrag);
                };

                const drag = (e) => {
                    if (!isDragging) return;
                    e.preventDefault();

                    const clientX = e.type === 'touchmove' ? e.touches[0].clientX : e.clientX;
                    const clientY = e.type === 'touchmove' ? e.touches[0].clientY : e.clientY;
                    
                    const parentRect = part2.getBoundingClientRect();
                    let newX = clientX - parentRect.left - offsetX;
                    let newY = clientY - parentRect.top - offsetY;

                    paper.style.left = `${newX}px`;
                    paper.style.top = `${newY}px`;
                };

                const endDrag = () => {
                    if (!isDragging) return;
                    isDragging = false;
                    paper.style.cursor = 'grab';

                    document.removeEventListener('mousemove', drag);
                    document.removeEventListener('touchmove', drag);
                    document.removeEventListener('mouseup', endDrag);
                    document.removeEventListener('touchend', endDrag);
                };

                paper.addEventListener('mousedown', startDrag);
                paper.addEventListener('touchstart', startDrag, { passive: true });
            });


            // --- Music Player Script ---
            const audio = document.getElementById('audio');
            const playPauseBtn = document.getElementById('playPauseBtn');
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            const songTitle = document.getElementById('songTitle');
            const songArtist = document.getElementById('songArtist');
            const albumArt = document.getElementById('albumArt');
            const progressBar = document.getElementById('progressBar');
            const progressContainer = document.getElementById('progressContainer');
            const currentTimeEl = document.getElementById('currentTime');
            const totalDurationEl = document.getElementById('totalDuration');

            const songs = [
                { title: 'Sparkle', artist: 'Acoustic Sun', src: 'music/sparkle.mp3', cover: 'https://placehold.co/300x300/ffcad4/6a0c1a?text=Sparkle' },
                { title: 'Dreamy Night', artist: 'Luna Beat', src: 'music/dreamy-night.mp3', cover: 'https://placehold.co/300x300/d8b4a0/6a0c1a?text=Dreamy+Night' },
                { title: 'Cotton Candy', artist: 'Sweet Vibes', src: 'music/cotton-candy.mp3', cover: 'https://placehold.co/300x300/f4acb7/6a0c1a?text=Cotton+Candy' }
            ];
            let currentSongIndex = 0;
            let isPlaying = false;

            function loadSong(song) {
                songTitle.textContent = song.title;
                songArtist.textContent = song.artist;
                audio.src = song.src;
                audio.onerror = () => {
                   console.warn(`Could not load audio: ${song.src}. Please add your music files.`);
                   audio.src = "data:audio/wav;base64,UklGRiQAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQAAAAA=";
                };
                albumArt.src = song.cover;
            }

            function playSong() { isPlaying = true; playPauseBtn.innerHTML = '<i class="fas fa-pause"></i>'; audio.play(); }
            function pauseSong() { isPlaying = false; playPauseBtn.innerHTML = '<i class="fas fa-play"></i>'; audio.pause(); }
            function prevSong() { currentSongIndex = (currentSongIndex - 1 + songs.length) % songs.length; loadSong(songs[currentSongIndex]); if (isPlaying) playSong(); }
            function nextSong() { currentSongIndex = (currentSongIndex + 1) % songs.length; loadSong(songs[currentSongIndex]); if (isPlaying) playSong(); }

            function updateProgress(e) {
                const { duration, currentTime } = e.srcElement;
                if(duration) {
                    const progressPercent = (currentTime / duration) * 100;
                    progressBar.style.width = `${progressPercent}%`;
                    totalDurationEl.textContent = formatTime(duration);
                }
                currentTimeEl.textContent = formatTime(currentTime);
            }
            
            function setProgress(e) {
                const width = this.clientWidth; const clickX = e.offsetX; const duration = audio.duration;
                if(duration) { audio.currentTime = (clickX / width) * duration; }
            }

            function formatTime(seconds) {
                const minutes = Math.floor(seconds / 60); const secs = Math.floor(seconds % 60);
                return `${minutes}:${secs < 10 ? '0' : ''}${secs}`;
            }

            // Player Controls
            playPauseBtn.addEventListener('click', () => { if (isPlaying) pauseSong(); else playSong(); });
            prevBtn.addEventListener('click', prevSong);
            nextBtn.addEventListener('click', nextSong);
            audio.addEventListener('timeupdate', updateProgress);
            audio.addEventListener('ended', nextSong);
            progressContainer.addEventListener('click', setProgress);
            
            loadSong(songs[currentSongIndex]);
        });
    </script>
</body>

</html>

