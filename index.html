<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A Surprise For You!</title>

    <!-- Google Fonts Links -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Short+Stack&family=Homemade+Apple&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Zeyada&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;700&display=swap" rel="stylesheet">

    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        /* --- General Body & Root Styles --- */
        :root {
            --pink: #ffcad4;
            --dark-pink: #f4acb7;
            --mauve: #d8b4a0;
            --text-dark: #6a0c1a;
            --text-light: #8d5d5d;
            --shadow: rgba(244, 172, 183, 0.5);
            --bg-color: #fde2e4;
        }

        * {
            padding: 0;
            margin: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            background-color: #fde2e4;
            font-family: 'Short Stack', cursive;
        }

        /* --- Decorative Header --- */
        .decorative-header {
            width: 100%;
            z-index: 999;
            text-align: center;
            pointer-events: auto; /* Allows clicking through it */
            
            /* Glassmorphism Effect */
            padding-top: 10px;
            background: rgba(255, 255, 255, 0.25);
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.3);
        }

        .header-title-deco {
            font-family: 'Pacifico', cursive;
            color: var(--text-dark);
            font-size: 1.8rem;
            text-shadow: 2px 2px 4px rgba(255, 255, 255, 0.7);
        }

        .lace-border {
            width: 100%;
            height: 30px;
            /* Changed white to a semi-transparent white for the glass effect */
            background:
                radial-gradient(circle at 25% 0, transparent 24%, rgba(255,255,255,0.7) 25%, rgba(255,255,255,0.7) 29%, transparent 30%, transparent 100%),
                radial-gradient(circle at 75% 0, transparent 24%, rgba(255,255,255,0.7) 25%, rgba(255,255,255,0.7) 29%, transparent 30%, transparent 100%);
            background-size: 50px 50px;
            background-position: 0 0, 25px 0;
            background-repeat: repeat-x;
        }


        @media (max-width: 600px) {
            .header-title-deco {
                font-size: 1.5rem;
            }
            .lace-border {
                height: 20px;
            }
        }


        /* --- Part 1: Love Letter Styles --- */
        #part1 {
            width: 100%;
            min-height: 100vh;
            background: linear-gradient(rgba(255, 204, 218, 0.9), rgba(255, 255, 255, 0.58)), url(https://images.unsplash.com/photo-1518895949257-70227c7c3553?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1920&q=80);
            background-repeat: no-repeat;
            background-size: cover;
            background-position: center;
            display: flex;
            flex-direction: column;
        }

        .message-container {
            flex-grow: 1;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 2rem;
        }

        #part1 .box {
            position: relative;
            width: 600px;
            height: 350px;
            background: rgba(253, 233, 234, 0.9);
            border-radius: 5px;
            box-shadow: 3px 3px 3px rgba(0, 0, 0, 0.3);
            display: flex;
            justify-content: center;
            align-items: center;
        }

        #part1 .gifs_left { position: absolute; width: 92px; bottom: -25px; left: -16px; }
        #part1 .gifs_right { position: absolute; width: 92px; top: -54px; right: -33px; }
        #part1 .gifs_left img, #part1 .gifs_right img { width: 130%; }
        #part1 .mail { width: 550px; height: 300px; border: 2px dashed rgb(167, 32, 71); border-radius: 15px; position: relative; }
        #part1 .heart { position: absolute; width: 100%; height: 100%; }
        #part1 .heart img {
            position: absolute;
            width: 40px;
            height: 40px;
            content: url('data:image/svg+xml;charset=UTF-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="red"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>');
        }
        #part1 .heart img:nth-child(1) { transform: rotate(-25deg) translate(10px, 10px); }
        #part1 .heart img:nth-child(2) { width: 25px; height: 25px; transform: rotate(-5deg) translate(3px, 50px); }
        #part1 .heart img:nth-child(3) { width: 25px; height: 25px; transform: rotate(5deg) translate(70px, 5px); }
        #part1 .heart img:nth-child(4) { right: 60px; bottom: 60px; transform: rotate(25deg); }
        #part1 .heart img:nth-child(5) { width: 25px; height: 25px; right: 110px; bottom: 80px; transform: rotate(5deg); }
        #part1 .content { position: relative; width: 100%; height: 100%; }
        #part1 .content .title { display: flex; justify-content: center; align-items: center; width: 100%; height: 50px; overflow: hidden; }
        #part1 .content .title h2 { font-family: 'Dancing Script', cursive; font-size: 35px; color: rgb(181, 12, 17); opacity: 1; transform: translateY(0px); transition: 2s; }
        #part1 .content p { padding: 0px 45px; font-size: 20px; font-family: 'Dancing Script', cursive; opacity: 1; transition: all 1s; }
        @keyframes text1 { 0% { opacity: 0; } 100% { opacity: 1; } }
        @media screen and (max-width: 658px) {
            #part1 .box { width: 100%; max-width: 320px; height: auto; padding: 24px; }
            #part1 .mail { height: auto; padding-bottom: 20px; }
            #part1 .content .title h2 { font-size: 2rem; }
            #part1 .content p { padding: 15px 20px; font-size: 1rem; }
            #part1 .gifs_left { bottom: -50px; left: -20px; }
            #part1 .gifs_right { top: -40px; right: -20px; }
        }

        /* --- Part 2: Draggable Notes Styles --- */
        #part2 { 
            min-height: 100vh; 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            background-image: url("https://www.psdgraphics.com/wp-content/uploads/2022/01/white-math-paper-texture.jpg"); 
            background-position: center center; 
            position: relative; 
            overflow: hidden; 
        }
        #part2 .paper { 
            background-image: url("https://i0.wp.com/textures.world/wp-content/uploads/2018/10/2-Millimeter-Paper-Background-copy.jpg?ssl=1"); 
            background-size: 500px; 
            padding: 20px 40px; 
            box-shadow: 1px 15px 20px 0px rgba(0, 0, 0, 0.5); 
            position: absolute; 
            width: 250px; 
            cursor: grab;
            transition: box-shadow 0.2s ease-out;
        }
        /* New class to provide visual feedback when an item is being dragged */
        #part2 .paper.dragging {
            box-shadow: 5px 25px 35px 0px rgba(0, 0, 0, 0.4);
            cursor: grabbing;
        }
        #part2 .paper.heart { 
            width: 200px; 
            height: 200px; 
            padding: 0; 
            border-radius: 50%;
            animation: heartbeat 1.4s infinite ease-in-out;
        }
        #part2 .paper.image { padding: 10px; }
        #part2 .paper-text { font-family: 'Zeyada'; font-size: 35px; color: rgb(0, 0, 100); opacity: 0.75; user-select: none; text-align: center; }
        #part2 .paper.image .paper-text { font-size: 24px; }
        #part2 img { max-height: 150px; width: 100%; user-select: none; }
        #part2 .paper.heart::after { content: ""; background-image: url('https://cdn.pixabay.com/photo/2016/03/31/19/25/cartoon-1294994__340.png'); width: 100%; height: 100%; position: absolute; top: 0; left: 0; background-size: 150px; background-position: center center; background-repeat: no-repeat; opacity: 0.6; }
        
        /* --- Part 3: Photo Carousel Styles --- */
        #part3 {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 2rem;
            background-color: var(--bg-color);
        }

        #part3 h2 {
            font-family: 'Pacifico', cursive;
            font-size: 3rem;
            color: var(--text-dark);
            margin-bottom: 2rem;
            text-align: center;
        }
        
        .carousel-container {
            width: 100%;
            max-width: 500px; 
            background: white;
            padding: 20px;
            border-radius: 25px;
            box-shadow: 0 15px 30px var(--shadow);
            position: relative;
        }

        .carousel-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 15px;
        }

        .carousel-item {
            position: relative;
            width: 100%;
            aspect-ratio: 1/1;
            overflow: hidden;
            border-radius: 15px;
            display: none;
        }
        
        .carousel-item.active {
            display: block;
        }

        .carousel-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }

        .carousel-item:hover img {
            transform: scale(1.1);
        }

        .carousel-nav {
            position: absolute;
            top: 50%;
            left: -30px;
            right: -30px;
            transform: translateY(-50%);
            display: flex;
            justify-content: space-between;
        }

        .carousel-nav button {
            background-color: white;
            border: none;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            box-shadow: 0 5px 15px var(--shadow);
            color: var(--dark-pink);
            font-size: 24px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .carousel-nav button:hover {
            background-color: var(--pink);
            transform: scale(1.1);
        }
        
        .carousel-dots {
            text-align: center;
            margin-top: 15px;
        }

        .carousel-dots .dot {
            display: inline-block;
            width: 12px;
            height: 12px;
            background-color: var(--pink);
            border-radius: 50%;
            margin: 0 5px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        .carousel-dots .dot.active {
            background-color: var(--dark-pink);
        }
        
        @media (max-width: 600px) {
             #part3 h2 {
                font-size: 2.5rem;
            }
            .carousel-nav {
                left: 5px;
                right: 5px;
            }
        }

        /* --- Part 4: Flipping Quote Cards --- */
        #part4 {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 2rem;
            background-color: var(--bg-color);
        }

        #part4 h2 {
            font-family: 'Pacifico', cursive;
            font-size: 3rem;
            color: var(--text-dark);
            margin-bottom: 2rem;
            text-align: center;
        }

        .quote-card-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 30px;
        }

        .quote-card {
            background-color: transparent;
            width: 280px;
            height: 280px;
            perspective: 1000px;
            cursor: pointer;
        }

        .quote-card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            text-align: center;
            transition: transform 0.8s;
            transform-style: preserve-3d;
            box-shadow: 0 15px 30px var(--shadow);
            border-radius: 25px;
        }

        .quote-card.is-flipped .quote-card-inner {
            transform: rotateY(180deg);
        }

        .quote-card-front, .quote-card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            -webkit-backface-visibility: hidden; /* Safari */
            backface-visibility: hidden;
            border-radius: 25px;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .quote-card-front {
            background-color: white;
            color: var(--text-dark);
            font-family: 'Dancing Script', cursive;
            font-size: 1.5rem;
        }

        .quote-card-back {
            background-color: var(--pink);
            transform: rotateY(180deg);
        }

        .quote-card-back img {
            width: 80%;
            height: 80%;
            object-fit: contain;
        }

        @media (max-width: 960px) {
            .quote-card {
                width: 250px;
                height: 250px;
            }
             #part4 h2 {
                font-size: 2.5rem;
            }
        }
        
        @media (max-width: 600px) {
            .quote-card {
                width: 80vw;
                max-width: 320px;
                height: 220px;
            }
            .quote-card-front {
                font-size: 1.4rem;
            }
        }

        /* --- Butterfly Effect Styles --- */
        .butterfly {
            position: fixed;
            pointer-events: none;
            z-index: 10002;
            width: 50px; /* Made them slightly bigger */
            height: 50px;
            transform-origin: center;
            animation: fly-away var(--duration, 3s) var(--delay, 0s) ease-out forwards;
        }

        .butterfly svg {
            width: 100%;
            height: 100%;
            animation: flutter 0.5s infinite alternate ease-in-out;
            /* The drop-shadow is now part of the SVG filter for a nicer glow */
        }

        @keyframes fly-away {
            0% {
                transform: translate(var(--x-start), var(--y-start)) scale(1);
                opacity: 1;
            }
            10% {
                opacity: 1;
            }
            100% {
                transform: translate(var(--x-end), var(--y-end)) scale(0) rotate(var(--rotation, 0deg));
                opacity: 0;
            }
        }

        @keyframes flutter {
            0% { transform: rotateY(-30deg) scaleX(1); }
            100% { transform: rotateY(50deg) scaleX(0.9); }
        }

        /* --- Heartbeat Animation for Paper Heart --- */
        @keyframes heartbeat {
            0% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.08);
            }
            100% {
                transform: scale(1);
            }
        }

        /* --- Part 5: Music Player Styles --- */
        #part5 {
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 2rem;
            background-color: var(--bg-color);
        }
        
        .part5-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 1.5rem;
            max-width: 500px;
            margin: 0 auto;
            width: 100%;
        }

        .music-player-image {
            width: 100%;
            max-width: 300px;
            flex-shrink: 0;
            text-align: center;
        }

        .music-player-image img {
            width: 100%;
            border-radius: 25px;
            box-shadow: 0 15px 30px var(--shadow);
            cursor: pointer;
        }
        
        .sticker-caption {
            font-family: 'Dancing Script', cursive;
            color: var(--text-dark);
            margin-top: 10px;
            font-size: 1.2rem;
            opacity: 0.8;
            user-select: none;
        }

        .music-player {
            width: 100%;
            max-width: 380px;
            background-color: white;
            border-radius: 25px;
            box-shadow: 0 15px 30px var(--shadow);
            padding: 30px;
            text-align: center;
            flex-shrink: 0;
        }

        .album-art { 
            width: 80%; 
            aspect-ratio: 1 / 1; 
            border-radius: 20px; 
            overflow: hidden; 
            margin: 0 auto 25px; 
            box-shadow: 0 10px 20px var(--shadow);
            padding: 10px;
            transition: background-color 0.5s ease;
        }
        .album-art-bg-1 { background-color: var(--pink); }
        .album-art-bg-2 { background-color: var(--mauve); }
        .album-art-bg-3 { background-color: var(--dark-pink); }

        .album-art img { 
            width: 100%; 
            height: 100%; 
            object-fit: cover; 
            border-radius: 12px;
        }
        .song-title { font-family: 'Pacifico', cursive; font-size: 28px; color: var(--text-dark); margin-bottom: 5px; }
        .song-artist { font-size: 16px; color: var(--text-light); margin-bottom: 20px; font-family: 'Nunito', sans-serif; }
        
        /* -- NEW: Visualizer Styles -- */
        .visualizer {
            display: flex;
            justify-content: center;
            align-items: flex-end; /* Align bars to the bottom */
            height: 40px;
            gap: 6px;
            margin: 0 auto 20px;
        }

        .visualizer .bar {
            width: 6px;
            height: 100%;
            background: linear-gradient(var(--pink), var(--dark-pink));
            border-radius: 3px;
            animation: dance 1.5s infinite ease-in-out alternate;
            animation-play-state: paused; /* Animation is stopped by default */
            transform-origin: bottom;
        }
        
        /* This class will be toggled on the music player to start the animation */
        .music-player.playing .visualizer .bar {
            animation-play-state: running;
        }

        /* Staggered animation for a more dynamic look */
        .visualizer .bar:nth-child(2) { animation-duration: 1.2s; }
        .visualizer .bar:nth-child(3) { animation-duration: 1.8s; }
        .visualizer .bar:nth-child(4) { animation-duration: 1.4s; }
        .visualizer .bar:nth-child(5) { animation-duration: 1.6s; }
        
        @keyframes dance {
            from { transform: scaleY(0.1); }
            to { transform: scaleY(1.0); }
        }
        
        .progress-container { width: 100%; height: 8px; background-color: #f0f0f0; border-radius: 5px; cursor: pointer; margin-bottom: 10px; }
        .progress-bar { width: 0%; height: 100%; background: linear-gradient(90deg, var(--pink), var(--dark-pink)); border-radius: 5px; }
        .timestamps { display: flex; justify-content: space-between; font-size: 12px; color: var(--text-light); margin-bottom: 20px; font-family: 'Nunito', sans-serif;}
        .controls { display: flex; justify-content: center; align-items: center; gap: 20px; }
        .control-btn { background: none; border: none; cursor: pointer; color: var(--text-light); font-size: 20px; transition: color 0.3s ease, transform 0.2s ease; }
        .control-btn:hover { color: var(--text-dark); transform: scale(1.1); }
        .play-pause-btn { width: 70px; height: 70px; background: linear-gradient(145deg, var(--dark-pink), var(--pink)); border-radius: 50%; color: white; font-size: 28px; display: flex; justify-content: center; align-items: center; box-shadow: 0 5px 15px var(--shadow); }
        .play-pause-btn:hover { transform: scale(1.05); filter: brightness(1.1); }
        
        @media (max-width: 540px) {
            .music-player { padding: 20px; }
            .song-title { font-size: 24px; }
        }

        /* --- Loader Styles --- */
        .loader-wrapper {
            position: fixed;
            width: 100%;
            height: 100%;
            background: #fff;
            top: 0;
            left: 0;
            z-index: 10000;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
            /* Added transition for smooth fade out */
            transition: opacity 0.75s ease;
            opacity: 1;
        }

        .loader-wrapper.hidden {
            opacity: 0;
            pointer-events: none; /* Make it unclickable when hidden */
        }
        
        .loader-content {
            display: flex;
            align-items: center;
            position: absolute;
            animation: run-across 2.5s linear infinite; 
        }

        @keyframes run-across {
            0% { transform: translate3d(60vw, 0, 0); }
            100% { transform: translate3d(-60vw, 0, 0); }
        }

        .loader-gif {
            width: 150px;
            height: auto;
        }

        .loader-text {
            margin-left: 1rem;
            font-size: 1.5rem;
            color: var(--text-dark);
            font-family: 'Dancing Script', cursive;
            white-space: nowrap;
        }

        /* --- Heart Burst & Heat Effect Styles --- */
        .heat-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            pointer-events: none;
            z-index: 10000;
            animation: heat-pulse 2.5s ease-out forwards;
        }

        @keyframes heat-pulse {
            0% { opacity: 1; transform: scale(0.5); }
            100% { opacity: 0; transform: scale(1.5); }
        }

        .heart-particle {
            position: fixed;
            pointer-events: none;
            z-index: 10001;
            animation: heart-burst var(--duration) ease-out forwards;
            animation-delay: var(--delay);
        }

        @keyframes heart-burst {
            0% {
                transform: translate(0, 0) rotate(var(--r-start)) scale(1);
                opacity: 1;
            }
            50% {
                opacity: 1;
            }
            100% {
                transform: translate(var(--x-end), var(--y-end)) rotate(var(--r-end)) scale(0);
                opacity: 0;
            }
        }


        /* --- Footer Styles --- */
        .page-footer { 
            position: relative; 
            width: 100%;
            padding: 2rem 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-wrap: nowrap;
        }
        .page-footer a { text-decoration: none; color: #191919d7; }
        .page-footer p { 
            color: var(--text-dark); 
            text-align: center; 
            font-weight: 700; 
            cursor: pointer;
            white-space: nowrap;
            font-size: 1rem;
        }

        .page-footer .heartbeat-svg {
            width: 80px;
            height: 40px;
            margin-left: 8px;
            overflow: visible;
            flex-shrink: 0;
        }

        .page-footer .heartbeat-svg #line {
            fill: none;
            stroke: #e00000;
            stroke-width: 1.5;
            stroke-linecap: butt;
            stroke-linejoin: round;
            stroke-miterlimit: 4;
            stroke-opacity: 1;
            stroke-dasharray: 1;
            stroke-dashoffset: 1;
            animation: dash 3s linear infinite;
        }
        .page-footer .heartbeat-svg #point {
            fill: none;
            stroke: #f00000;
            stroke-width: 5;
            stroke-linecap: round;
            stroke-linejoin: round;
            stroke-miterlimit: .1;
            stroke-opacity: 1;
            stroke-dasharray: .0001, .9999;
            stroke-dashoffset: 1;
            animation: dash 3s linear infinite;
        }

        @keyframes dash {
            0% { stroke-dashoffset: 1; }
            80% { stroke-dashoffset: 0; }
            100% { stroke-dashoffset: 0; }
        }

        @media (max-width: 420px) {
            .page-footer p {
                font-size: 0.8rem;
            }
        }
    </style>
</head>

<body>
    <!-- --- Global Elements --- -->
    <div class="loader-wrapper">
        <div class="loader-content">
             <img class="loader-gif" src="https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExNzVleWx2dTg5YmpvY29xdHl2bGdhMDEzaG5vNGJlYzBhamhwYXVmdSZlcD12MV9zdGlja2Vyc19zZWFyY2gmY3Q9cw/VIiPveBKmF99T7pZwM/giphy.gif" alt="Loading...">
            <p class="loader-text">Wait my love is loading...</p>
        </div>
    </div>

    <!-- --- Section 1: Love Letter --- -->
    <section id="part1">
        <div class="decorative-header">
            <div class="header-title-deco">For My Sweetu</div>
            <div class="lace-border"></div>
        </div>
        <div class="message-container">
            <div class="box">
                <div class="mail">
                    <div class="heart">
                        <img alt="heart"><img alt="heart"><img alt="heart"><img alt="heart"><img alt="heart">
                    </div>
                    <div class="content">
                        <div class="title"><h2>To You!</h2></div>
                        <p>
                            You may not realize it, but you live in every heartbeat of mine.
                            When you smile, it feels like the whole world is filled with light...
                            My love is like unspoken words, incomplete without you. This friendship is beautiful, but my
                            heart whispers every moment I wish I could make you feel the depth of my love!‚ù§Ô∏è
                        </p>
                        <div class="gifs_left"><img src="https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExcXE5Mzg5N2NhbjR5enZvZDh3cG9yNjdibndkNjZhd3h1ZGkxODdmciZlcD12MV9zdGlja2Vyc19zZWFyY2gmY3Q9cw/TfpG3LE90tHCUBUend/giphy.gif" alt="animated heart"></div>
                        <div class="gifs_right"><img src="https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExcXE5Mzg5N2NhbjR5enZvZDh3cG9yNjdibndkNjZhd3h1ZGkxODdmciZlcD12MV9zdGlja2Vyc19zZWFyY2gmY3Q9cw/nbrfPJD3kNmdkWkMo9/giphy.gif" alt="animated heart"></div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- --- Section 2: Draggable Notes --- -->
    <section id="part2">
        <div class="paper heart"></div>
        <div class="paper image"><p class="paper-text"> and I fallen in</p><p class="paper-text">Love with You üòç </p><img src="./1.jpeg" alt="cute illustration"/></div>
        <div class="paper image"><p class="paper-text">How can you be</p><p class="paper-text"> so cute ‚ù§Ô∏è</p><img src="./3.jpeg" alt="cute illustration"/></div>
        <div class="paper image"><p class="paper-text">You are...</p><img src="./2.jpeg" alt="cute illustration"/></div>
        <div class="paper red"><p class="paper-text"> and My Favorite</p><p class="paper-text">Person üòç</p></div>
        <div class="paper"><p class="paper-text">You are Cute &</p><p class="paper-text">Amazing <span style="color: red !important;">‚ù§Ô∏è</span></p></div>
        <div class="paper"><p class="paper-text">Drag the papers to move!</p></div>
    </section>
    
    <!-- --- Section 3: Photo Carousel --- -->
    <section id="part3">
        <h2>Sweet Moments</h2>
        <div class="carousel-container">
            <div class="carousel-grid">
                <div class="carousel-item">
                    <img src="./111.jpeg" alt="Cute Memory 1">
                </div>
                <div class="carousel-item">
                    <img src="./222.jpeg" alt="Cute Memory 2">
                </div>
                <div class="carousel-item">
                    <img src="./333.jpeg" alt="Cute Memory 3">
                </div>
                <div class="carousel-item">
                    <img src="./444.jpeg" alt="Cute Memory 4">
                </div>
            </div>
            <div class="carousel-nav">
                <button id="carouselPrevBtn"><i class="fas fa-heart"></i></button>
                <button id="carouselNextBtn"><i class="fas fa-heart"></i></button>
            </div>
            <div class="carousel-dots"></div>
        </div>
    </section>

    <!-- --- Section 4: Flipping Quote Cards --- -->
    <section id="part4">
        <h2>Words from the Heart</h2>
        <div class="quote-card-container">
            <div class="quote-card">
                <div class="quote-card-inner">
                    <div class="quote-card-front">"You are my sun, my moon, and all my stars."</div>
                    <div class="quote-card-back">
                        <img src="https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExaXM0ZDVpdnZtN2F3dGM2bDNrY2FqZmYyc2htZ28wY2Uwc2U3YzdhbiZlcD12MV9zdGlja2Vyc19zZWFyY2gmY3Q9cw/LpDmM2A05awz6/giphy.gif" alt="Cute Sticker">
                    </div>
                </div>
            </div>
            <div class="quote-card">
                <div class="quote-card-inner">
                    <div class="quote-card-front">"If I know what love is, it is because of you."</div>
                    <div class="quote-card-back">
                         <img src="https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExaXM0ZDVpdnZtN2F3dGM2bDNrY2FqZmYyc2htZ28wY2Uwc2U3YzdhbiZlcD12MV9zdGlja2Vyc19zZWFyY2gmY3Q9cw/10hO3rDNqqg2ZO/giphy.gif" alt="Cute Sticker">
                    </div>
                </div>
            </div>
            <div class="quote-card">
                <div class="quote-card-inner">
                    <div class="quote-card-front">"Your love is all I need to feel complete."</div>
                    <div class="quote-card-back">
                        <img src="https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExaXM0ZDVpdnZtN2F3dGM2bDNrY2FqZmYyc2htZ28wY2Uwc2U3YzdhbiZlcD12MV9zdGlja2Vyc19zZWFyY2gmY3Q9cw/MDJ9pKn6WALEs/giphy.gif" alt="Cute Sticker">
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- --- Section 5: Music Player --- -->
    <section id="part5">
        <div class="part5-container">
            <div class="music-player-image">
                <img id="musicPlayerSticker" src="https://media2.giphy.com/media/v1.Y2lkPTZjMDliOTUycXRjMnl2cDJvMWdmZ293Z2xyaXl1dnFqeDNyNWdobTJrdnVhYml4aSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9cw/n2VnfwWUszgwjNyyRa/giphy.gif" alt="Cute animated illustration">
                <p class="sticker-caption">Tap to create love</p>
            </div>
            <div class="music-player">
                <div class="album-art">
                    <img alt="Album Art" id="albumArt">
                </div>
                <h2 class="song-title" id="songTitle">Choose a Song</h2>
                <p class="song-artist" id="songArtist">And press play!</p>
                <!-- NEW: Music visualizer added here -->
                <div class="visualizer">
                    <div class="bar"></div>
                    <div class="bar"></div>
                    <div class="bar"></div>
                    <div class="bar"></div>
                    <div class="bar"></div>
                </div>
                <div class="progress-container" id="progressContainer">
                    <div class="progress-bar" id="progressBar"></div>
                </div>
                <div class="timestamps">
                    <span id="currentTime">0:00</span>
                    <span id="totalDuration">0:00</span>
                </div>
                <div class="controls">
                    <button class="control-btn" id="prevBtn"><i class="fas fa-backward"></i></button>
                    <button class="control-btn play-pause-btn" id="playPauseBtn"><i class="fas fa-play"></i></button>
                    <button class="control-btn" id="nextBtn"><i class="fas fa-forward"></i></button>
                </div>
                <audio id="audio"></audio>
            </div>
        </div>
    </section>

    <!-- --- Global Footer --- -->
    <footer class="page-footer">
        <p>Design with ‚ù§Ô∏è<a href="" target="_blank" rel="noopener noreferrer">for Sweetu üòôüòô</a></p>
        <svg class="heartbeat-svg" xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="-5 -5 278 56">
            <filter id="blur">
                <feGaussianBlur stdDeviation="1.6" />
            </filter>
            <g transform="translate(29.1 -127.42)">
                <path id="line" d="M-28.73 167.2c26.43 9.21 68.46-9.46 85.45-12.03 18.45-2.78 32.82 4.86 28.75 9.83-3.82 4.66-25.77-21.18-14.81-31.5 9.54-8.98 17.64 10.64 16.42 17.06-1.51-6.2 2.95-26.6 14.74-22.11 11.7 4.46-4.33 49.03-15.44 44.08-6.97-3.1 15.44-16.26 26.1-16 23.03.56 55.6 27.51 126.63 3.36" pathLength="1" />
            </g>
            <g transform="translate(29.1 -127.42)">
                <path filter="url(#blur)" id="point" d="M-28.73 167.2c26.43 9.21 68.46-9.46 85.45-12.03 18.45-2.78 32.82 4.86 28.75 9.83-3.82 4.66-25.77-21.18-14.81-31.5 9.54-8.98 17.64 10.64 16.42 17.06-1.51-6.2 2.95-26.6 14.74-22.11 11.7 4.46-4.33 49.03-15.44 44.08-6.97-3.1 15.44-16.26 26.1-16 23.03.56 55.6 27.51 126.63 3.36" pathLength="1" />
            </g>
        </svg>
    </footer>

    <!-- --- Scripts --- -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {

            // --- Page Loader Script (Optimized) ---
            const loaderWrapper = document.querySelector('.loader-wrapper');
            window.addEventListener('load', () => {
                loaderWrapper.classList.add('hidden');
            });

            // --- Heart Burst Effect on Sticker Click ---
            const musicPlayerSticker = document.getElementById('musicPlayerSticker');
            const createHearts = (event) => {
                const body = document.body;
                const clickX = event.clientX;
                const clickY = event.clientY;

                // 1. Create and animate the heat overlay
                const heatOverlay = document.createElement('div');
                heatOverlay.classList.add('heat-overlay');
                body.appendChild(heatOverlay);
                setTimeout(() => heatOverlay.remove(), 2500);

                // --- Mobile-Responsive Adjustments ---
                const isMobile = window.innerWidth < 600;
                const heartCount = isMobile ? 20 : 40;
                const xSpread = isMobile ? 200 : 400;
                const ySpread = isMobile ? 250 : 350;

                // 2. Create and animate the heart particles
                for (let i = 0; i < heartCount; i++) { 
                    const heart = document.createElement('div');
                    heart.classList.add('heart-particle');
                    heart.innerHTML = '‚ù§Ô∏è';
                    body.appendChild(heart);

                    const size = Math.random() * 20 + 10;
                    const xEnd = (Math.random() - 0.5) * xSpread; 
                    const yEnd = (Math.random() * -ySpread) - 100;
                    const duration = Math.random() * 2 + 2.5; 
                    const delay = Math.random() * 0.2; 
                    const rStart = Math.random() * 360;
                    const rEnd = (Math.random() - 0.5) * 720;

                    heart.style.fontSize = `${size}px`;
                    heart.style.left = `${clickX - size / 2}px`;
                    heart.style.top = `${clickY - size / 2}px`;

                    heart.style.setProperty('--x-end', `${xEnd}px`);
                    heart.style.setProperty('--y-end', `${yEnd}px`);
                    heart.style.setProperty('--duration', `${duration}s`);
                    heart.style.setProperty('--delay', `${delay}s`);
                    heart.style.setProperty('--r-start', `${rStart}deg`);
                    heart.style.setProperty('--r-end', `${rEnd}deg`);

                    setTimeout(() => {
                        heart.remove();
                    }, duration * 1000 + delay * 1000);
                }
            };
            musicPlayerSticker.addEventListener('click', createHearts);


            // --- Draggable Paper Script (Optimized) ---
            const part2 = document.querySelector('#part2');
            const papers = document.querySelectorAll('#part2 .paper');
            let highestZ = 1;

            const stackPapers = () => {
                const containerWidth = part2.clientWidth;
                const containerHeight = part2.clientHeight;

                papers.forEach(paper => {
                    const paperWidth = paper.offsetWidth;
                    const paperHeight = paper.offsetHeight;
                    const centerX = (containerWidth - paperWidth) / 2;
                    const centerY = (containerHeight - paperHeight) / 2;
                    paper.style.left = `${centerX}px`;
                    paper.style.top = `${centerY}px`;
                    
                    let initialTransform = '';
                    if (!paper.classList.contains('heart')) {
                         initialTransform += `rotate(${Math.random() * 40 - 20}deg)`;
                    }
                     // Set initial transform for positioning
                    paper.style.transform = `${initialTransform} translate(0px, 0px)`;
                });
            };

            stackPapers();
            window.addEventListener('resize', stackPapers);

            let activePaper = null;
            let isDragging = false;
            let startX, startY;
            let initialX, initialY;
            
            const startDrag = (e) => {
                const targetPaper = e.target.closest('.paper');
                if (!targetPaper) return;
                
                if (e.type === 'touchstart') e.preventDefault();
                
                activePaper = targetPaper;
                isDragging = true;
                document.body.style.overflow = 'hidden';
                
                activePaper.style.zIndex = highestZ++;
                activePaper.classList.add('dragging');
                
                startX = e.type === 'touchstart' ? e.touches[0].clientX : e.clientX;
                startY = e.type === 'touchstart' ? e.touches[0].clientY : e.clientY;

                const transformMatrix = new DOMMatrix(getComputedStyle(activePaper).transform);
                initialX = transformMatrix.m41;
                initialY = transformMatrix.m42;

                document.addEventListener('mousemove', drag);
                document.addEventListener('touchmove', drag, { passive: false });
                document.addEventListener('mouseup', endDrag);
                document.addEventListener('touchend', endDrag);
            };

            const drag = (e) => {
                if (!isDragging || !activePaper) return;
                e.preventDefault();

                const currentX = e.type === 'touchmove' ? e.touches[0].clientX : e.clientX;
                const currentY = e.type === 'touchmove' ? e.touches[0].clientY : e.clientY;
                
                const dX = currentX - startX;
                const dY = currentY - startY;

                const currentRotation = activePaper.style.transform.match(/rotate\([^)]+\)/)?.[0] || '';
                activePaper.style.transform = `${currentRotation} translate(${initialX + dX}px, ${initialY + dY}px)`;
            };

            const endDrag = () => {
                if (!isDragging || !activePaper) return;
                document.body.style.overflow = '';
                isDragging = false;
                activePaper.classList.remove('dragging');
                
                // We don't need to do anything here since the transform is persistent
                activePaper = null;

                document.removeEventListener('mousemove', drag);
                document.removeEventListener('touchmove', drag);
                document.removeEventListener('mouseup', endDrag);
                document.removeEventListener('touchend', endDrag);
            };
            
            part2.addEventListener('mousedown', startDrag);
            part2.addEventListener('touchstart', startDrag, { passive: false });


            // --- Flipping Quote Cards Script ---
            const quoteCards = document.querySelectorAll('.quote-card');
            
            const butterflySVG = `
                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="256" height="256" viewBox="0 0 256 256" xml:space="preserve">
                    <g style="stroke: none; stroke-width: 0; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: none; fill-rule: nonzero; opacity: 1;" transform="translate(1.4065934065934016 1.4065934065934016) scale(2.81 2.81)">
                        <path d="M 81.97 57.327 l -4.324 -6.075 l -30.224 3.735 v 0.676 l 2.14 12.882 c 0.82 5.322 4.141 9.928 8.932 12.388 l 2.113 1.085 c 7.814 4.012 17.401 1.328 21.995 -6.159 C 86.127 70.114 85.878 62.818 81.97 57.327 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(255,137,85); fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round"/>
                        <path d="M 42.572 54.986 l -30.218 -3.735 L 8.03 57.327 c -3.909 5.491 -4.157 12.787 -0.632 18.532 c 4.595 7.487 14.181 10.171 21.995 6.159 l 2.113 -1.085 c 4.79 -2.46 8.111 -7.066 8.932 -12.388 l 2.134 -12.847 V 54.986 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(255,137,85); fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round"/>
                        <path d="M 82.232 6.474 C 70.629 3.35 59.025 21.578 47.422 46.971 c -1.054 2.792 -1.146 5.486 0 8.053 c 10.007 2.225 23.166 4.103 34.273 -5.934 C 90.016 42.241 94.992 11.04 82.232 6.474 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(255,137,85); fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round"/>
                        <path d="M 17.626 75.858 c -3.525 -5.745 -3.277 -13.04 0.632 -18.532 l 3.497 -4.914 l -9.4 -1.162 L 8.03 57.327 c -3.909 5.491 -4.157 12.787 -0.632 18.532 c 4.104 6.688 12.189 9.528 19.439 7.201 C 23.125 81.874 19.809 79.416 17.626 75.858 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(233,118,67); fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round"/>
                        <path d="M 72.374 75.858 c 3.525 -5.745 3.277 -13.04 -0.632 -18.532 l -3.497 -4.914 l 9.4 -1.162 l 4.324 6.075 c 3.909 5.491 4.157 12.787 0.632 18.532 c -4.104 6.688 -12.189 9.528 -19.439 7.201 C 66.875 81.874 70.191 79.416 72.374 75.858 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(233,118,67); fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round"/>
                        <path d="M 42.572 46.959 C 30.971 21.572 19.369 3.35 7.768 6.474 C -4.992 11.04 -0.016 42.241 8.305 49.091 c 11.105 10.035 24.261 8.159 34.267 5.935 C 43.702 52.456 43.609 49.758 42.572 46.959 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(255,137,85); fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round"/>
                        <path d="M 18.532 49.091 c -7.815 -6.433 -12.677 -34.344 -2.668 -41.497 c -2.699 -1.405 -5.398 -1.847 -8.097 -1.12 C -4.992 11.04 -0.016 42.241 8.305 49.091 c 8.277 7.479 17.692 8.341 26.094 7.374 C 29.012 55.732 23.562 53.635 18.532 49.091 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(233,118,67); fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round"/>
                        <path d="M 71.468 49.091 c 7.815 -6.433 12.677 -34.344 2.668 -41.497 c 2.699 -1.405 5.398 -1.847 8.097 -1.12 c 12.759 4.567 7.783 35.767 -0.537 42.617 c -8.277 7.479 -17.692 8.341 -26.094 7.374 C 60.988 55.732 66.438 53.635 71.468 49.091 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(233,118,67); fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round"/>
                        <path d="M 46.254 72.512 l -0.46 2.726 c -0.151 0.899 -1.443 0.899 -1.594 0 l -0.46 -2.726 c -0.777 -4.611 -1.168 -9.279 -1.168 -13.956 v -19.4 c 0 -1.339 1.086 -2.425 2.425 -2.425 h 0 c 1.339 0 2.425 1.086 2.425 2.425 v 19.4 C 47.422 63.232 47.031 67.9 46.254 72.512 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(107,107,107); fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round"/>
                        <path d="M 49.222 35.661 c 0 2.299 -1.864 4.164 -4.164 4.164 c -2.299 0 -4.164 -1.864 -4.164 -4.164 c 0 -2.299 1.864 -6.473 4.164 -6.473 C 47.358 29.187 49.222 33.361 49.222 35.661 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(107,107,107); fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round"/>
                        <path d="M 47.096 32.738 c -0.544 0 -0.989 -0.435 -1 -0.981 c -0.103 -5.364 2.689 -12.144 7.115 -17.271 c 0.359 -0.418 0.993 -0.465 1.41 -0.104 c 0.418 0.361 0.465 0.992 0.104 1.41 c -4.058 4.702 -6.722 11.102 -6.629 15.926 c 0.011 0.552 -0.429 1.008 -0.98 1.019 C 47.108 32.738 47.102 32.738 47.096 32.738 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(107,107,107); fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round"/>
                        <path d="M 43.019 32.738 c -0.007 0 -0.013 0 -0.02 0 c -0.552 -0.011 -0.991 -0.467 -0.981 -1.019 c 0.093 -4.825 -2.572 -11.225 -6.629 -15.926 c -0.361 -0.418 -0.314 -1.049 0.104 -1.41 c 0.417 -0.361 1.049 -0.314 1.41 0.104 c 4.425 5.126 7.218 11.905 7.116 17.271 C 44.008 32.303 43.563 32.738 43.019 32.738 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(107,107,107); fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round"/>
                    </g>
                </svg>`;

            const createButterflies = (cardElement) => {
                const rect = cardElement.getBoundingClientRect();
                const startX = rect.left + rect.width / 2;
                const startY = rect.top + rect.height / 2;
                const butterflyCount = 60; // Increased butterfly count

                for (let i = 0; i < butterflyCount; i++) {
                    const butterfly = document.createElement('div');
                    butterfly.classList.add('butterfly');
                    butterfly.innerHTML = butterflySVG;
                    document.body.appendChild(butterfly);
                    
                    // Increased the spread so they fill the screen
                    const endX = startX + (Math.random() - 0.5) * window.innerWidth * 1.5;
                    const endY = startY + (Math.random() - 0.5) * window.innerHeight * 1.5;
                    const duration = Math.random() * 2 + 3; // Slightly longer duration
                    const delay = Math.random() * 0.8;
                    const rotation = (Math.random() - 0.5) * 540;
                    const randomHue = Math.random() * 360;

                    butterfly.style.left = '0px'; 
                    butterfly.style.top = '0px';
                    // Apply a random hue rotation to the g element for color variety
                    butterfly.querySelector('g').style.filter = `hue-rotate(${randomHue}deg)`;

                    butterfly.style.setProperty('--x-start', `${startX}px`);
                    butterfly.style.setProperty('--y-start', `${startY}px`);
                    butterfly.style.setProperty('--x-end', `${endX}px`);
                    butterfly.style.setProperty('--y-end', `${endY}px`);
                    butterfly.style.setProperty('--duration', `${duration}s`);
                    butterfly.style.setProperty('--delay', `${delay}s`);
                    butterfly.style.setProperty('--rotation', `${rotation}deg`);

                    setTimeout(() => {
                        butterfly.remove();
                    }, (duration + delay) * 1000);
                }
            };

            quoteCards.forEach(card => {
                card.addEventListener('click', () => {
                    const isAlreadyFlipped = card.classList.contains('is-flipped');
                    
                    // First, unflip all cards
                    quoteCards.forEach(otherCard => {
                        otherCard.classList.remove('is-flipped');
                    });
                    
                    // If the card was not already flipped, flip it now and release butterflies
                    if (!isAlreadyFlipped) {
                        card.classList.add('is-flipped');
                        createButterflies(card);
                    }
                    // If it was already flipped, clicking it again will just close it (due to the loop above)
                });
            });


            // --- Music Player Script ---
            const audio = document.getElementById('audio');
            const playPauseBtn = document.getElementById('playPauseBtn');
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            const songTitle = document.getElementById('songTitle');
            const songArtist = document.getElementById('songArtist');
            const albumArtImg = document.getElementById('albumArt');
            const albumArtContainer = document.querySelector('.album-art');
            const progressBar = document.getElementById('progressBar');
            const progressContainer = document.getElementById('progressContainer');
            const currentTimeEl = document.getElementById('currentTime');
            const totalDurationEl = document.getElementById('totalDuration');
            const musicPlayer = document.querySelector('.music-player'); // Get the music player element

            const songs = [
                { title: 'A Song For You', artist: 'From Me', src: './11.mp3', cover: 'https://media4.giphy.com/media/v1.Y2lkPTc5MGI3NjExMDRxdXF3YW5qaGpmMGNpcjhhdXB1dGVranVvdTVhYm81cDBiY3k0byZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9cw/MBTTvOv8148AzCtslz/giphy.gif', bgClass: 'album-art-bg-1' },
                { title: 'A Song For You', artist: 'From Me', src: './22.mp3', cover: 'https://media4.giphy.com/media/v1.Y2lkPTc5MGI3NjExMDRxdXF3YW5qaGpmMGNpcjhhdXB1dGVranVvdTVhYm81cDBiY3k0byZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9cw/MBTTvOv8148AzCtslz/giphy.gif', bgClass: 'album-art-bg-2' },
                { title: 'A Song For You', artist: 'From Me', src: './33.mp3', cover: 'https://media4.giphy.com/media/v1.Y2lkPTc5MGI3NjExMDRxdXF3YW5qaGpmMGNpcjhhdXB1dGVranVvdTVhYm81cDBiY3k0byZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9cw/MBTTvOv8148AzCtslz/giphy.gif', bgClass: 'album-art-bg-3' },
                { title: 'A Song For You', artist: 'From Me', src: './44.mp3', cover: 'https://media4.giphy.com/media/v1.Y2lkPTc5MGI3NjExMDRxdXF3YW5qaGpmMGNpcjhhdXB1dGVranVvdTVhYm81cDBiY3k0byZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9cw/MBTTvOv8148AzCtslz/giphy.gif', bgClass: 'album-art-bg-1' },
                { title: 'A Song For You', artist: 'From Me', src: './55.mp3', cover: 'https://media4.giphy.com/media/v1.Y2lkPTc5MGI3NjExMDRxdXF3YW5qaGpmMGNpcjhhdXB1dGVranVvdTVhYm81cDBiY3k0byZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9cw/MBTTvOv8148AzCtslz/giphy.gif', bgClass: 'album-art-bg-3' }
            ];
            let currentSongIndex = 0;
            let isPlaying = false;

            function loadSong(song) {
                songTitle.textContent = song.title;
                songArtist.textContent = song.artist;
                audio.src = song.src;
                albumArtImg.src = song.cover;
                albumArtContainer.className = 'album-art'; // Reset classes
                albumArtContainer.classList.add(song.bgClass); // Add new class
            }

            function playSong() {
                isPlaying = true;
                playPauseBtn.innerHTML = '<i class="fas fa-pause"></i>';
                musicPlayer.classList.add('playing');
                const playPromise = audio.play();
                if (playPromise !== undefined) {
                    playPromise.catch(error => {
                        console.error("Audio playback failed:", error);
                        // Revert the UI to a paused state if playback fails
                        pauseSong();
                    });
                }
            }
            function pauseSong() { isPlaying = false; playPauseBtn.innerHTML = '<i class="fas fa-play"></i>'; audio.pause(); musicPlayer.classList.remove('playing'); }
            function prevSong() { currentSongIndex = (currentSongIndex - 1 + songs.length) % songs.length; loadSong(songs[currentSongIndex]); if (isPlaying) playSong(); }
            function nextSong() { currentSongIndex = (currentSongIndex + 1) % songs.length; loadSong(songs[currentSongIndex]); if (isPlaying) playSong(); }

            function updateProgress(e) {
                const { duration, currentTime } = e.srcElement;
                if(duration) {
                    const progressPercent = (currentTime / duration) * 100;
                    progressBar.style.width = `${progressPercent}%`;
                    totalDurationEl.textContent = formatTime(duration);
                }
                currentTimeEl.textContent = formatTime(currentTime);
            }
            
            function setProgress(e) {
                const width = this.clientWidth; const clickX = e.offsetX; const duration = audio.duration;
                if(duration) { audio.currentTime = (clickX / width) * duration; }
            }

            function formatTime(seconds) {
                const minutes = Math.floor(seconds / 60); const secs = Math.floor(seconds % 60);
                return `${minutes}:${secs < 10 ? '0' : ''}${secs}`;
            }

            // Player Controls
            playPauseBtn.addEventListener('click', () => { if (isPlaying) pauseSong(); else playSong(); });
            prevBtn.addEventListener('click', prevSong);
            nextBtn.addEventListener('click', nextSong);
            audio.addEventListener('timeupdate', updateProgress);
            audio.addEventListener('ended', nextSong);
            progressContainer.addEventListener('click', setProgress);
            
            loadSong(songs[currentSongIndex]);

             // --- Photo Carousel Script ---
            const carouselItems = document.querySelectorAll('.carousel-item');
            const prevCarouselBtn = document.getElementById('carouselPrevBtn');
            const nextCarouselBtn = document.getElementById('carouselNextBtn');
            const dotsContainer = document.querySelector('.carousel-dots');
            let currentCarouselIndex = 0;

            // Create dots dynamically
            carouselItems.forEach((_, index) => {
                const dot = document.createElement('span');
                dot.classList.add('dot');
                dot.addEventListener('click', () => {
                    currentCarouselIndex = index;
                    showCarouselItem();
                });
                dotsContainer.appendChild(dot);
            });
            
            const dots = document.querySelectorAll('.carousel-dots .dot');

            function showCarouselItem() {
                carouselItems.forEach((item, index) => {
                    item.classList.remove('active');
                    dots[index].classList.remove('active');
                    if (index === currentCarouselIndex) {
                        item.classList.add('active');
                        dots[index].classList.add('active');
                    }
                });
            }

            nextCarouselBtn.addEventListener('click', () => {
                currentCarouselIndex = (currentCarouselIndex + 1) % carouselItems.length;
                showCarouselItem();
            });

            prevCarouselBtn.addEventListener('click', () => {
                currentCarouselIndex = (currentCarouselIndex - 1 + carouselItems.length) % carouselItems.length;
                showCarouselItem();
            });

            // Initial show
            showCarouselItem();
        });
    </script>
</body>

</html>


